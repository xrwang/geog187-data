a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
t() %>%
as.data.frame()
b_filtered
# d <- left_join(a, b_filtered)
#
# d
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
#a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
t() %>%
as.data.frame()
#b_filtered
d <- left_join(a, b_filtered)
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
t() %>%
as.data.frame()
b_filtered
d <- left_join(a, b_filtered)
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
t() %>%
as.data.frame()
colnames(b_filtered)[1] <- "station_name"
b_filtered
d <- left_join(a, b_filtered)
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
t() %>%
as.data.frame()
colnames(b_filtered)[0] <- "station_name"
b_filtered
d <- left_join(a, b_filtered)
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
colnames(b_filtered)[0] <- "station_name"
b_filtered
d <- left_join(a, b_filtered)
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
colnames(b_filtered)[0] <- "station_name"
b_filtered
# d <- left_join(a, b_filtered)
#
# d
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
b_filtered <- cbind(rownames(b_filtered), b_filtered)
rownames(b_filtered) <- NULL
colnames(b_filtered) <- c("station_number","values")
b_filtered
# d <- left_join(a, b_filtered)
#
# d
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
b_filtered <- cbind(rownames(b_filtered), b_filtered)
rownames(b_filtered) <- NULL
colnames(b_filtered) <- c("station_number","values")
b_filtered
d <- left_join(a, b_filtered)
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
b_filtered <- cbind(rownames(b_filtered), b_filtered)
rownames(b_filtered) <- NULL
colnames(b_filtered) <- c("station_name","values")
b_filtered
d <- left_join(a, b_filtered)
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
b_filtered <- cbind(rownames(b_filtered), b_filtered)
rownames(b_filtered) <- NULL
colnames(b_filtered) <- c("station_name","values")
b_filtered
as.numeric(levels(b_filtered$values))[b_filtered$values],
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
b_filtered <- cbind(rownames(b_filtered), b_filtered)
rownames(b_filtered) <- NULL
colnames(b_filtered) <- c("station_name","values")
b_filtered
as.numeric(levels(b_filtered$values))[b_filtered$values]
d <- left_join(a, b_filtered)
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
b_filtered <- cbind(rownames(b_filtered), b_filtered)
rownames(b_filtered) <- NULL
colnames(b_filtered) <- c("station_name","values")
b_filtered
as.numeric(b_filtered$values)
d <- left_join(a, b_filtered)
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
b_filtered <- cbind(rownames(b_filtered), b_filtered)
rownames(b_filtered) <- NULL
colnames(b_filtered) <- c("station_name","values")
b_filtered
as.numeric(b_filtered$station_name)
d <- left_join(a, b_filtered)
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
b_filtered <- cbind(rownames(b_filtered), b_filtered)
rownames(b_filtered) <- NULL
colnames(b_filtered) <- c("station_name","values")
as.numeric(b_filtered$station_name)
b_filtered
#
# d <- left_join(a, b_filtered)
#
# d
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
a
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
b_filtered <- cbind(rownames(b_filtered), b_filtered)
rownames(b_filtered) <- NULL
colnames(b_filtered) <- c("station_name","values")
as.numeric(b_filtered$station_name)
b_filtered$station_name
#
# d <- left_join(a, b_filtered)
#
# d
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
factor(a$station_name)
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
b_filtered <- cbind(rownames(b_filtered), b_filtered)
rownames(b_filtered) <- NULL
colnames(b_filtered) <- c("station_name","values")
as.numeric(b_filtered$station_name)
#
# d <- left_join(a, b_filtered)
#
# d
library(dplyr)
library(tidyr)
a <- readr::read_tsv('air-quality-data/China_Station_Metadata.txt')
colnames(a)[1] <- "station_name"
colnames(a)[2] <- "latitude"
colnames(a)[3] <- "longitude"
colnames(a)[4] <- "name"
a <- filter(a, !grepl('Japan', name)) %>%
filter(!grepl('Korea',name)) %>%
filter(!grepl('Thailand',name)) %>%
filter(!grepl('Mongolia',name)) %>%
filter(!grepl('Taiwan',name))
factor(a$station_name)
b <- readr::read_tsv('air-quality-data/China_Station_O3.txt') %>%
filter(Month==4, Day==5, Hour==3)
# drop.cols <- c(as.character(c(seq(1264, 2929))), 'Month', 'Day', 'Hour', '% Year')
# remove <- c('2925','2926','2927','2928','2929')
# drop.cols <- drop.cols [! drop.cols %in% remove]
#b
b_filtered <- b %>%
select(-one_of(drop.cols)) %>%
mutate(., a=NA) %>%
t() %>%
as.data.frame()
b_filtered <- cbind(rownames(b_filtered), b_filtered)
rownames(b_filtered) <- NULL
colnames(b_filtered) <- c("station_name","values")
d <- left_join(a, b_filtered)
